# **📖 VRChat Status Bot 操作マニュアル**

このドキュメントでは、VRChat Status Botの全コマンドと機能について解説します。

## **🔧 管理者向けコマンド**

Botを導入したサーバーの管理者（Administrator権限を持つユーザー）が使用できるコマンドです。

### **📢 通知チャンネルの設定**

Botからの障害通知を受け取るチャンネルを設定します。

* **`/register\_notify`**  
  * **機能**: コマンドを実行したテキストチャンネルを「通知先」として登録します。  
  * **使用例**: \#vrc\_status チャンネルで実行すると、以後そのチャンネルに障害レポートが届きます。  
* **`/unregister\_notify`**  
  * **機能**: 現在のチャンネルの通知登録を解除します。

### **🔔 ロールメンション設定**

障害通知時に、特定のロール（役職）へメンション（通知）を飛ばす設定です。「VRChatを遊んでいるグループだけに通知したい」場合などに便利です。

* **`/add\_notify\_role \[role\]`**  
  * **機能**: 指定したロールを通知対象に追加します。  
  * **引数**: role \- 追加したいロールを選択してください。  
  * **挙動**: 障害発生時、メッセージにそのロールへのメンションが付加されます。  
* **`/remove\_notify\_role \[role\]`**  
  * **機能**: 指定したロールの通知設定を解除します。

### **🧪 動作テスト**

* **`/test\_notify`**  
  * **機能**: **\[注意\]** 偽の障害データを生成し、強制的に「障害検知」の状態を作り出します。  
  * **目的**: 通知が正しく届くか、メンションが機能しているかを確認するためのテスト用コマンドです。  
  * **注意**: 実際に登録済みの全チャンネルにテスト通知が送信される場合があるため、運用環境での乱用は避けてください。

## **👤 一般ユーザー向けコマンド**

サーバー内の誰でも使用できるコマンドです。

### **📩 個人通知設定**

サーバー全体の通知設定とは別に、自分個人宛てのメンション通知を設定できます。

* **`/subscribe\_mention`**  
  * **機能**: 障害通知時に、自分へのメンションを受け取るように設定します。  
  * **メリット**: 深夜などでも、VRChatの障害発生にすぐに気づきたい場合に便利です。  
* **`/unsubscribe\_mention`**  
  * **機能**: 自分へのメンション通知を解除します。

### **📊 ステータス確認**

* **`/vrc\_status`**  
  * **機能**: 現在のVRChatステータスを即座にチェックし、AIの診断結果を表示します。  
  * **内容**:  
    * 公式ステータスの状況  
    * Twitterでのユーザー報告状況  
    * AIによる「障害判定」（深刻度）

## **🤖 AIチャット機能について**

Botに対してメンションを飛ばすか、DMを送ることで会話が可能です。

* **「今の状況はどう？」**  
  * 最新のステータス情報を踏まえて、今VRChatに入れるかどうかを答えてくれます。  
* **「〇〇について教えて」**  
  * VRChatに関する一般的な質問にも（Geminiの知識ベースで）回答します。

## **💡 障害判定ロジック（仕様）**

このBotは以下のロジックで障害を判定しています。

1. **情報収集**:  
   * VRChat公式Status API  
   * Twitter検索（キーワード: "VRChat" \+ "落ちた/重い/鯖"）  
2. **AI分析 (Gemini 2.5 Flash)**:  
   * 収集したテキストをAIが読み込み、「本当に障害が起きているか」を判断します。  
   * 単発の「重い」ツイートだけでは反応しません。  
   * 「公式発表はないが、直近10分で『入れない』報告が多数ある」といった**サイレント障害**も検知可能です。  
3. **通知**:  
   * AIが `should\_notify: True` と判断した場合のみ、Discordに通知を送信します。  
   * 障害が解消されたと判断した場合、「復旧報告」を行います。